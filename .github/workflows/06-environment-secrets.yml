name: 06 - Environments and Secrets

# This workflow demonstrates using environments, secrets, and variables
on:
  workflow_dispatch:
  push:
    branches: [ main, master ]

jobs:
  development:
    name: Deploy to Development
    runs-on: ubuntu-latest
    environment:
      name: development
      url: https://dev.example.com

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Deploy to development
        run: |
          echo "üöÄ Deploying to Development environment"
          echo "Environment: development"
          echo "URL: https://dev.example.com"
          echo "‚úÖ Development deployment complete!"

  staging:
    name: Deploy to Staging
    runs-on: ubuntu-latest
    needs: development
    environment:
      name: staging
      url: https://staging.example.com

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Deploy to staging
        run: |
          echo "üöÄ Deploying to Staging environment"
          echo "Environment: staging"
          echo "URL: https://staging.example.com"
          echo "‚úÖ Staging deployment complete!"

  production:
    name: Deploy to Production
    runs-on: ubuntu-latest
    needs: staging
    environment:
      name: production
      url: https://example.com

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Deploy to production
        run: |
          echo "üöÄ Deploying to Production environment"
          echo "Environment: production"
          echo "URL: https://example.com"
          echo "‚ö†Ô∏è  Note: In a real workflow, this would require approval"
          echo "‚úÖ Production deployment complete!"
